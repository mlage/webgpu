(()=>{"use strict";var e,n;n=function*(){var e;const n=navigator.gpu?"webGPU suportado":"webGPU não suportado";if("webGPU não suportado"===n)throw console.log(n),"Seu navegador atual não suporta webGPU!";const t=document.querySelector("#canvas-webgpu"),o=window.devicePixelRatio||1;t.width=1024*o,t.height=768*o;const r=yield null===(e=navigator.gpu)||void 0===e?void 0:e.requestAdapter(),a=yield null==r?void 0:r.requestDevice(),i=t.getContext("webgpu"),c="bgra8unorm";i.configure({device:a,format:c,alphaMode:"premultiplied"});const u="\n        const pos: array<vec2<f32>, 3>=  array<vec2<f32>, 3>(\n            vec2<f32>(0.0, 0.5),\n            vec2<f32>(-0.5, -0.5),\n            vec2<f32>(0.5, -0.5),\n        );\n\n        const color: array<vec3<f32>, 3>=  array<vec3<f32>, 3>(\n            vec3<f32>(1.0, 0.0, 0.0),\n            vec3<f32>(0.0, 1.0, 0.0),\n            vec3<f32>(0.0, 0.0, 1.0)\n        );\n        \n        struct Output{\n            @builtin(position) Position: vec4<f32>,\n            @location(0) vColor: vec4<f32>,\n        }\n\n        @vertex\n        fn main(@builtin(vertex_index) VertexIndex: u32) -> Output {\n            var out: Output;\n            out.Position=vec4<f32>(pos[VertexIndex], 0.0, 1.0);\n            out.vColor=vec4<f32>(color[VertexIndex], 0.75);\n            return out;\n        }\n    ",l="  \n        @fragment\n        fn main(@location(0) vColor: vec4<f32>) -> @location(0) vec4<f32> {\n            return vColor;\n        }\n    ",v=a.createRenderPipeline({vertex:{module:a.createShaderModule({code:u}),entryPoint:"main"},fragment:{module:a.createShaderModule({code:l}),entryPoint:"main",targets:[{format:c}]},primitive:{topology:"triangle-list"},layout:"auto"}),d=a.createCommandEncoder(),s=i.getCurrentTexture().createView(),f=d.beginRenderPass({colorAttachments:[{clearValue:[0,0,0,1],storeOp:"store",loadOp:"clear",view:s}]});f.setPipeline(v),f.draw(3,1,0,0),f.end(),a.queue.submit([d.finish()])},new((e=void 0)||(e=Promise))((function(t,o){function r(e){try{i(n.next(e))}catch(e){o(e)}}function a(e){try{i(n.throw(e))}catch(e){o(e)}}function i(n){var o;n.done?t(n.value):(o=n.value,o instanceof e?o:new e((function(e){e(o)}))).then(r,a)}i((n=n.apply(void 0,[])).next())}))})();
//# sourceMappingURL=main.bundle.js.map